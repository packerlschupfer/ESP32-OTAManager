; PlatformIO configuration for OTAManager with LogInterface
; This example shows how to use custom Logger without forcing instantiation

[platformio]
default_envs = esp32-ota-logger

; Base configuration for all environments
[env]
platform = espressif32
board = esp32dev
framework = arduino
monitor_speed = 115200
lib_deps = 
    ; Add your Logger library here
    ; mrfaptastic/Logger @ ^1.0.0
    
; Example paths - adjust to your project structure
lib_extra_dirs = 
    ../../../workspace_Class-OTAManager
    ../../../workspace_Class-Logger

; Development environment with custom Logger and debug output
[env:esp32-ota-logger-dev]
build_flags = 
    -DUSE_CUSTOM_LOGGER             ; Enable custom Logger for all libraries
    -DOTAMANAGER_DEBUG              ; Enable debug/verbose logging
    -DCORE_DEBUG_LEVEL=5            ; ESP32 debug level
    
; Production environment with custom Logger (no debug)
[env:esp32-ota-logger]
build_flags = 
    -DUSE_CUSTOM_LOGGER             ; Enable custom Logger for all libraries
    ; Debug logging is disabled by default

; Testing environment without custom Logger (uses ESP-IDF)
[env:esp32-ota-esp-idf]
; No special flags needed - OTAManager will use ESP-IDF logging

; Example with WiFi credentials from environment
[env:esp32-ota-logger-prod]
build_flags = 
    -DUSE_CUSTOM_LOGGER
    '-DWIFI_SSID="${sysenv.PROD_WIFI_SSID}"'
    '-DWIFI_PASS="${sysenv.PROD_WIFI_PASS}"'
    '-DOTA_PASSWORD="${sysenv.PROD_OTA_PASS}"'

; Example for debugging OTA issues
[env:esp32-ota-debug]
build_flags = 
    -DUSE_CUSTOM_LOGGER
    -DOTAMANAGER_DEBUG
    -DCORE_DEBUG_LEVEL=5
monitor_filters = 
    esp32_exception_decoder
    time
    
; Example integrating with other libraries that use Logger
[env:esp32-full-stack]
lib_deps = 
    ${env.lib_deps}
    ; Other libraries that support Logger
    ; mrfaptastic/TaskManager @ ^1.0.0
    ; mrfaptastic/MQTTManager @ ^1.0.0
build_flags = 
    ; Enable custom Logger for all libraries using LogInterface
    -DUSE_CUSTOM_LOGGER
    ; Enable debug for development
    -DOTAMANAGER_DEBUG
    -DTASKMANAGER_DEBUG
    -DMQTTMANAGER_DEBUG